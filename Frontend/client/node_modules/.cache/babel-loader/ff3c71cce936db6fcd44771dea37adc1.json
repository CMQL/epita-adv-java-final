{"ast":null,"code":"var _jsxFileName = \"E:\\\\JAVA\\\\Awork\\\\Movie System(F)\\\\ex01-07\\\\api models\\\\client\\\\src\\\\components\\\\ListMovies.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport moviesState from '../atoms/moviesAtom'; //import DeleteMessages from './DeleteMessages';\n\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from 'dayjs'; //import EditMessage from './EditMessage';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListMovies = () => {\n  _s();\n\n  const [movies, setMovies] = useRecoilState(moviesState);\n  dayjs.extend(relativeTime);\n\n  const getData = async () => {\n    const res = await axios.get(`${process.env.REACT_APP_API_URL}/movies`, {\n      withCredentials: true\n    });\n    setMovies(res.data);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-40 w-50 mx-auto\",\n    children: movies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-10 relative\",\n      children: [movie.picture && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${movie.picture}`,\n          alt: \"Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: movie.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"txt-small txt-right\",\n          children: [\"-- \", dayjs(movie.created_at).fromNow(true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, movie._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 29\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 12\n  }, this);\n};\n\n_s(ListMovies, \"MCHW7Ep+AlIZj9CwfsInziSkEtM=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = ListMovies;\nexport default ListMovies;\n/*<div className='edit'>\r\n                    <EditMessage message={message}/>\r\n                </div>*/\n//                <DeleteMessages movie={movie}/>\n\nvar _c;\n\n$RefreshReg$(_c, \"ListMovies\");","map":{"version":3,"sources":["E:/JAVA/Awork/Movie System(F)/ex01-07/api models/client/src/components/ListMovies.js"],"names":["axios","React","useEffect","useState","useRecoilState","moviesState","relativeTime","dayjs","ListMovies","movies","setMovies","extend","getData","res","get","process","env","REACT_APP_API_URL","withCredentials","data","map","movie","picture","content","created_at","fromNow","_id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAOC,WAAP,MAAwB,qBAAxB,C,CACA;;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;;;AAGA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACrB,QAAM,CAACC,MAAD,EAAQC,SAAR,IAAmBN,cAAc,CAACC,WAAD,CAAvC;AACAE,EAAAA,KAAK,CAACI,MAAN,CAAaL,YAAb;;AAGA,QAAMM,OAAO,GAAG,YAAS;AACrB,UAAMC,GAAG,GAAE,MAAMb,KAAK,CAACc,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,SAA3C,EAAoD;AACjEC,MAAAA,eAAe,EAAC;AADiD,KAApD,CAAjB;AAGAR,IAAAA,SAAS,CAACG,GAAG,CAACM,IAAL,CAAT;AACH,GALD;;AAOAjB,EAAAA,SAAS,CAAC,MAAI;AACVU,IAAAA,OAAO;AACV,GAFQ,EAEP,EAFO,CAAT;AAIA,sBAAO;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,cACFH,MAAM,CAACW,GAAP,CAAWC,KAAK,iBAAG;AAAqB,MAAA,SAAS,EAAC,qBAA/B;AAAA,iBACfA,KAAK,CAACC,OAAN,iBAAiB;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BACd;AAAK,UAAA,GAAG,EAAG,GAAED,KAAK,CAACC,OAAQ,EAA3B;AAA6B,UAAA,GAAG,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA;AADc;AAAA;AAAA;AAAA;AAAA,cADF,eAKZ;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACI;AAAA,oBAAID,KAAK,CAACE;AAAV;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAG,UAAA,SAAS,EAAC,qBAAb;AAAA,4BAAuChB,KAAK,CAACc,KAAK,CAACG,UAAP,CAAL,CAAwBC,OAAxB,CAAgC,IAAhC,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cALY;AAAA,OAAUJ,KAAK,CAACK,GAAhB;AAAA;AAAA;AAAA;AAAA,YAAnB;AADE;AAAA;AAAA;AAAA;AAAA,UAAP;AAaH,CA7BD;;GAAMlB,U;UACuBJ,c;;;KADvBI,U;AA+BN,eAAeA,UAAf;AAEA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport moviesState from '../atoms/moviesAtom';\r\n//import DeleteMessages from './DeleteMessages';\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\nimport dayjs from 'dayjs'\r\n//import EditMessage from './EditMessage';\r\n\r\n\r\nconst ListMovies = () => {\r\n    const [movies,setMovies]=useRecoilState(moviesState)\r\n    dayjs.extend(relativeTime)\r\n\r\n\r\n    const getData = async()=>{\r\n        const res =await axios.get(`${process.env.REACT_APP_API_URL}/movies`,{\r\n            withCredentials:true\r\n        })\r\n        setMovies(res.data)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getData()   \r\n    },[])\r\n  \r\n    return <div className='pt-40 w-50 mx-auto'>\r\n        {movies.map(movie=> <div key={movie._id} className='card mb-10 relative'>\r\n            {movie.picture && <div className='card-image'>\r\n                <img src={`${movie.picture}`}alt='Message' />\r\n                </div>}\r\n\r\n                <div className='card-body'>\r\n                    <p>{movie.content}</p>\r\n                    <p className='txt-small txt-right'>-- {dayjs(movie.created_at).fromNow(true)}</p>\r\n                    </div>\r\n                \r\n            </div>)}\r\n    </div>;\r\n};\r\n\r\nexport default ListMovies;\r\n\r\n/*<div className='edit'>\r\n                    <EditMessage message={message}/>\r\n                </div>*/ \r\n//                <DeleteMessages movie={movie}/>\r\n"]},"metadata":{},"sourceType":"module"}