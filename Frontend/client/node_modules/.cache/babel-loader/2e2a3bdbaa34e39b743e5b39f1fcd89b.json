{"ast":null,"code":"var _jsxFileName = \"E:\\\\JScript\\\\ex01-07\\\\api models\\\\client\\\\src\\\\components\\\\ListMessages.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport messagesState from '../atoms/messagesAtom';\nimport DeleteMessages from './DeleteMessages';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from 'dayjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListMessages = () => {\n  _s();\n\n  const [messages, setMessages] = useRecoilState(messagesState);\n  dayjs.extend(relativeTime);\n\n  const getData = async () => {\n    const res = await axios.get(`${process.env.REACT_APP_API_URL}/messages`, {\n      withCredentials: true\n    });\n    setMessages(res.data);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-40 w-50 mx-auto\",\n    children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-10 relative\",\n      children: [message.picture && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: 'http://localhost:5000/${message.picture}',\n          alt: \"Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(DeleteMessages, {\n          message: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"txt-small txt-right\",\n          children: [\"-- \", dayjs(message.created_at).fromNow(true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this)]\n    }, message._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 33\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 12\n  }, this);\n};\n\n_s(ListMessages, \"DTqP0RQ6whIwVvVn6bnJ1xgbufc=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = ListMessages;\nexport default ListMessages;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListMessages\");","map":{"version":3,"sources":["E:/JScript/ex01-07/api models/client/src/components/ListMessages.js"],"names":["axios","React","useEffect","useState","useRecoilState","messagesState","DeleteMessages","relativeTime","dayjs","ListMessages","messages","setMessages","extend","getData","res","get","process","env","REACT_APP_API_URL","withCredentials","data","map","message","picture","content","created_at","fromNow","_id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACvB,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAuBP,cAAc,CAACC,aAAD,CAA3C;AACAG,EAAAA,KAAK,CAACI,MAAN,CAAaL,YAAb;;AAGA,QAAMM,OAAO,GAAG,YAAS;AACrB,UAAMC,GAAG,GAAE,MAAMd,KAAK,CAACe,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,WAA3C,EAAsD;AACnEC,MAAAA,eAAe,EAAC;AADmD,KAAtD,CAAjB;AAGAR,IAAAA,WAAW,CAACG,GAAG,CAACM,IAAL,CAAX;AACH,GALD;;AAOAlB,EAAAA,SAAS,CAAC,MAAI;AACVW,IAAAA,OAAO;AACV,GAFQ,EAEP,EAFO,CAAT;AAIA,sBAAO;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,cACFH,QAAQ,CAACW,GAAT,CAAaC,OAAO,iBAAG;AAAuB,MAAA,SAAS,EAAC,qBAAjC;AAAA,iBACnBA,OAAO,CAACC,OAAR,iBAAmB;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BAChB;AAAK,UAAA,GAAG,EAAE,0CAAV;AAAqD,UAAA,GAAG,EAAC;AAAzD;AAAA;AAAA;AAAA;AAAA;AADgB;AAAA;AAAA;AAAA;AAAA,cADA,eAKpB;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACI,QAAC,cAAD;AAAgB,UAAA,OAAO,EAAED;AAAzB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEQ;AAAA,oBAAIA,OAAO,CAACE;AAAZ;AAAA;AAAA;AAAA;AAAA,gBAFR,eAGQ;AAAG,UAAA,SAAS,EAAC,qBAAb;AAAA,4BAAuChB,KAAK,CAACc,OAAO,CAACG,UAAT,CAAL,CAA0BC,OAA1B,CAAkC,IAAlC,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR;AAAA;AAAA;AAAA;AAAA;AAAA,cALoB;AAAA,OAAUJ,OAAO,CAACK,GAAlB;AAAA;AAAA;AAAA;AAAA,YAAvB;AADE;AAAA;AAAA;AAAA;AAAA,UAAP;AAaH,CA7BD;;GAAMlB,Y;UAC2BL,c;;;KAD3BK,Y;AA+BN,eAAeA,YAAf","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport messagesState from '../atoms/messagesAtom';\r\nimport DeleteMessages from './DeleteMessages';\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\nimport dayjs from 'dayjs'\r\n\r\n\r\nconst ListMessages = () => {\r\n    const [messages,setMessages]=useRecoilState(messagesState)\r\n    dayjs.extend(relativeTime)\r\n\r\n\r\n    const getData = async()=>{\r\n        const res =await axios.get(`${process.env.REACT_APP_API_URL}/messages`,{\r\n            withCredentials:true\r\n        })\r\n        setMessages(res.data)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getData()   \r\n    },[])\r\n  \r\n    return <div className='pt-40 w-50 mx-auto'>\r\n        {messages.map(message=> <div key={message._id} className='card mb-10 relative'>\r\n            {message.picture && <div className='card-image'>\r\n                <img src={'http://localhost:5000/${message.picture}'}alt='Message' />\r\n                </div>}\r\n\r\n            <div className='card-body'>\r\n                <DeleteMessages message={message}/>\r\n                    <p>{message.content}</p>\r\n                    <p className='txt-small txt-right'>-- {dayjs(message.created_at).fromNow(true)}</p>\r\n                    </div>\r\n                </div>)}\r\n    </div>;\r\n};\r\n\r\nexport default ListMessages;\r\n"]},"metadata":{},"sourceType":"module"}