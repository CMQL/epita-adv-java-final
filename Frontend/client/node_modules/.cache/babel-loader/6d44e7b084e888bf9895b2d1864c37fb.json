{"ast":null,"code":"var _jsxFileName = \"E:\\\\JAVA\\\\Awork\\\\Movie System(F)\\\\ex01-07\\\\api models\\\\client\\\\src\\\\components\\\\MovieInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useRecoilState } from 'recoil';\nimport moviesState from '../atoms/moviesAtom';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from 'dayjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Movies = () => {\n  _s();\n\n  const [movies, setMovies] = useRecoilState(moviesState);\n  dayjs.extend(relativeTime);\n  let navigate = useNavigate();\n  const [form, setForm] = useState({\n    content: ''\n  });\n\n  const handlerOnChange = async event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const handlerGoOnClick = async event => {\n    event.preventDefault(); //var formData=new FormData()\n\n    try {\n      /*const res=await axios.get(`localhost:8080/seenmovies/`,{\r\n          withCredentials:true,\r\n          headers:{\r\n              'Content-Type': 'multipart/form-data'\r\n          }})\r\n          //let index = messages.indexOf(message)\r\n          //setMessages([...messages, [0]: res.data])*/\n      window.location.href = '../users/'; //windows.location.href=users+'/'+userid\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handlerSearchOnClick = async event => {\n    event.preventDefault();\n    console.log(form);\n    var formData = new FormData();\n    formData.append('content', form.content); //--------------------------------------------\n    //const res=await axios.get(`localhost:8080/seenmovies/${form.content}`})\n    //-----------------------------------------\n\n    var adddate = new Date('2019-3-5');\n    var seentoday = [{\n      title: \"ABC\",\n      added: adddate,\n      external_id: \"123\"\n    }]; //res.data\n\n    setMovies(seentoday);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"w-50 mx-auto form-bordered\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"content\",\n        value: form.content,\n        placeholder: \"yyyy-mm-dd\",\n        className: \"form-textarea\",\n        onChange: handlerOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn bg-red-400 txt-white w-100\",\n        onChange: handlerSearchOnClick,\n        children: \"Get Movies added in the day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"???\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-40 w-50 mx-auto\",\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-10 relative\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          onChange: handlerOnClick,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"txt-small txt-right\",\n            children: [\"-- \", movie.added.toDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn bg-red-400 txt-white w-100\",\n            onClick: handlerGoOnClick,\n            children: \"Check who has seen the movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, movie._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), \";\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Movies, \"Yzk5G8tNLwoCvYrKqs2ceALLEy4=\", false, function () {\n  return [useRecoilState, useNavigate];\n});\n\n_c = Movies;\nexport default Movies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"sources":["E:/JAVA/Awork/Movie System(F)/ex01-07/api models/client/src/components/MovieInfo.js"],"names":["React","useEffect","useState","useNavigate","useRecoilState","moviesState","relativeTime","dayjs","Movies","movies","setMovies","extend","navigate","form","setForm","content","handlerOnChange","event","name","value","target","handlerGoOnClick","preventDefault","window","location","href","error","console","log","handlerSearchOnClick","formData","FormData","append","adddate","Date","seentoday","title","added","external_id","map","movie","handlerOnClick","toDateString","_id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useRecoilState } from 'recoil';\r\nimport moviesState from '../atoms/moviesAtom'\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\nimport dayjs from 'dayjs'\r\n\r\nconst Movies = () => {\r\n    const [movies,setMovies]=useRecoilState(moviesState)\r\n    dayjs.extend(relativeTime)\r\n    let navigate=useNavigate()\r\n    const[form,setForm]=useState({content:''})\r\n\r\n    \r\n\r\n    const handlerOnChange=async(event)=>{\r\n        const {name,value} = event.target\r\n        setForm({...form,[name]:value})\r\n    }\r\n\r\n    const handlerGoOnClick = async(event)=>{\r\n        event.preventDefault()\r\n\r\n        //var formData=new FormData()\r\n        try {\r\n            /*const res=await axios.get(`localhost:8080/seenmovies/`,{\r\n                withCredentials:true,\r\n                headers:{\r\n                    'Content-Type': 'multipart/form-data'\r\n                }})\r\n                //let index = messages.indexOf(message)\r\n                //setMessages([...messages, [0]: res.data])*/\r\n                window.location.href='../users/'\r\n                //windows.location.href=users+'/'+userid\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }   \r\n    const handlerSearchOnClick=async(event)=>{\r\n        event.preventDefault()\r\n\r\n        console.log(form)\r\n\r\n        var formData=new FormData()\r\n        formData.append('content',form.content)\r\n//--------------------------------------------\r\n        //const res=await axios.get(`localhost:8080/seenmovies/${form.content}`})\r\n//-----------------------------------------\r\n        var adddate=new Date('2019-3-5')\r\n        var seentoday=[\r\n            {title: \"ABC\",\r\n            added:adddate,\r\n            external_id:\"123\"}]\r\n        //res.data\r\n        setMovies(seentoday)\r\n    }\r\n\r\n  return (\r\n    <form className='w-50 mx-auto form-bordered'>\r\n      <div className='form-group'>\r\n            <textarea\r\n                name=\"content\"\r\n                value={form.content}\r\n                placeholder='yyyy-mm-dd'\r\n                className='form-textarea'\r\n                onChange={handlerOnChange}\r\n            ></textarea>\r\n        </div>\r\n        <div className='form-group'>\r\n            <button className='btn bg-red-400 txt-white w-100' onChange={handlerSearchOnClick}>\r\n                Get Movies added in the day\r\n            </button>\r\n        </div>\r\n        <p>???</p>\r\n        <div className='pt-40 w-50 mx-auto'>\r\n        {movies.map(movie=> <div key={movie._id} className='card mb-10 relative'>\r\n            <div className='card-body' onChange={handlerOnClick}>\r\n                   <p>{movie.title}</p>\r\n                    <p className='txt-small txt-right'>-- {movie.added.toDateString()}</p>\r\n                    <button className='btn bg-red-400 txt-white w-100' onClick={handlerGoOnClick}>\r\n                        Check who has seen the movie\r\n                    </button>\r\n                    </div>\r\n                \r\n            </div>)}\r\n    </div>;\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default Movies"]},"metadata":{},"sourceType":"module"}